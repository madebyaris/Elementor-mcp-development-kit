# CORS headers for WordPress REST API
# Allows browser requests from localhost:8080 to localhost (REST API)

<IfModule mod_headers.c>
    # Set CORS headers for REST API endpoints
    <LocationMatch "^/wp-json/|rest_route=">
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
        Header set Access-Control-Allow-Credentials "true"
        Header set Access-Control-Allow-Headers "Content-Type, Authorization, X-WP-Nonce, X-Requested-With"
        Header set Access-Control-Max-Age "86400"
    </LocationMatch>
    
    # Handle preflight OPTIONS requests
    <LocationMatch "^/wp-json/|rest_route=">
        RewriteEngine On
        RewriteCond %{REQUEST_METHOD} OPTIONS
        RewriteRule ^(.*)$ $1 [R=200,L]
    </LocationMatch>
</IfModule>

